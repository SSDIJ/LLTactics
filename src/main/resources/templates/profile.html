<!DOCTYPE html>
<html class="h-100" xmlns:th="http://www.thymeleaf.org">

<head>
    <link href="https://fonts.googleapis.com/css2?family=Uncial+Antiqua&display=swap" rel="stylesheet">
    <th:block th:replace="~{fragments/head :: header}" />
    <title>LL Tactics</title>
</head>

<body class="h-100">
    <header th:replace="~{fragments/nav.html :: nav}"></header>

    <div id="ranking-main-container"
        class="container d-flex flex-column align-items-center justify-content-center text-center mt-5">

        <div class="container">

            <img src="/img/homepage/sword.png" alt="Espada" id="homepage-sword">

            <div class="prophile_container">
                <!-- FOTO, NOMBRE, VICTORIAS, DERROTAS, FACCION FAVORITA -->
                <div class="prophile-photo">
                    <img src="/img/players/arthur.png" alt="Foto de perfil">
                </div>
                <div class="prophile_stats">
                    <h2>Arthur</h2>
                    <p>Victorias: 20</p>
                    <p>Derrotas: 5</p>
                    <p>Facción favorita: Humanos</p>
                </div>
            
                <!-- Lista de héroes más usados -->
                <div class="heroes-container">
                    <h3>Héroes más usados</h3>
                    <ul>
                        <li>
                            <img src="/img/units/humans/3. Caballero/knight.png" alt="Caballero">
                            Caballero
                        </li>
                        <li>
                            <img src="/img/units/humans/5. Mago/white-mage.png" alt="Mago">
                            Mago
                        </li>
                    </ul>
                </div>
            
                <!-- Contenedor para los gráficos -->
                <div class="charts-container">
                    <!-- Gráfico Circular para Winrate -->
                    <div class="winrate-chart-container">
                        <div class="winrate-container">
                            <svg width="150" height="150" class="winrate-circle">
                                <circle cx="50%" cy="50%" r="70" />
                            </svg>
                            <div class="winrate-text">
                                <p>Winrate:</p>
                                <p class="percentage">80%</p>
                            </div>
                        </div>
                    </div>
                    <!-- Gráfico de Tarta para Facciones -->
                    <div class="faction-chart-container">
                        <canvas id="factionChart" width="150" height="150"></canvas>
                    </div>
                </div>
            </div>
            
    <!-- Degradado en la parte inferior -->
    <div class="degradado"></div>
    <th:block th:replace="~{fragments/footer.html :: footer}" />

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        var ctx = document.getElementById('factionChart').getContext('2d');
        var chart = new Chart(ctx, {
            type: 'pie', // Gráfico de tarta
            data: {
                labels: ['Humanos', 'Dragones', 'No-muertos'], // Facciones
                datasets: [{
                    label: 'Distribución de Facciones',
                    data: [60, 25, 15], // Porcentaje de jugadores por facción
                    backgroundColor: ['blue', 'red', 'gray']
                }]
            }
        });
    </script>
</body>

</html>